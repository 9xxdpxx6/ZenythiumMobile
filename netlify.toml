[build]
  publish = "dist"
  command = "npm run build"

[functions]
  directory = "netlify/functions"

# üîó –ò—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è .well-known (–Ω—É–∂–Ω–æ –¥–ª—è App Links –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏)
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –ü–ï–†–ï–î –æ–±—â–∏–º —Ä–µ–¥–∏—Ä–µ–∫—Ç–æ–º, —á—Ç–æ–±—ã assetlinks.json –±—ã–ª –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞–ø—Ä—è–º—É—é
[[redirects]]
  from = "/.well-known/*"
  to = "/.well-known/:splat"
  status = 200
  force = true

# üöÄ SPA Redirect: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã, –∫—Ä–æ–º–µ —Å—Ç–∞—Ç–∏–∫–∏, –≤ index.html
[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
  force = false

# üì¶ –ò—Å–∫–ª—é—á–∞–µ–º —Å—Ç–∞—Ç–∏–∫—É ‚Äî —á—Ç–æ–±—ã JS/CSS/–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –æ—Ç–¥–∞–≤–∞–ª–∏—Å—å –∫–∞–∫ –µ—Å—Ç—å
[[headers]]
  for = "/assets/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/favicon.png"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/manifest.webmanifest"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/robots.txt"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

# üîí –ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—à—å service worker (PWA)
[[headers]]
  for = "/service-worker.js"
  [headers.values]
    Cache-Control = "public, max-age=0, must-revalidate"

# üñºÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ: –µ—Å–ª–∏ —É —Ç–µ–±—è –µ—Å—Ç—å –¥—Ä—É–≥–∏–µ —Å—Ç–∞—Ç–∏—á–Ω—ã–µ —Ñ–∞–π–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, fonts, icons)
[[headers]]
  for = "/fonts/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"

[[headers]]
  for = "/icons/*"
  [headers.values]
    Cache-Control = "public, max-age=31536000, immutable"